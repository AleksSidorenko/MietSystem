MietSystem: Платформа для аренды жилья
Обзор
MietSystem — это современный, масштабируемый бэкенд для платформы аренды жилья, разработанный специально для рынка Германии. Платформа поддерживает роли пользователей (арендатор, арендодатель, администратор) и предоставляет функционал для управления объявлениями, бронированиями, отзывами, аналитикой и поиском с учетом геолокации. Построен на Django 5.0 и Django REST Framework (DRF), обеспечивая безопасность, производительность и удобство для разработчиков.
Основные возможности

Управление пользователями: Ролевая модель (арендатор, арендодатель, администратор) с аутентификацией через JWT, двухфакторной аутентификацией (2FA), верификацией по email и сбросом пароля.
Объявления: CRUD-операции, валидация фотографий (≤5 МБ, JPEG/PNG, ≥200px), расширенная фильтрация (по цене, количеству комнат, удобствам, городу).
Бронирования: Валидация дат, подтверждение/отмена бронирований, отправка уведомлений по email через Celery.
Отзывы: Модерация, рейтинг (1–5), привязка к подтвержденным бронированиям.
Аналитика: История поисков и просмотров, топ-5 объявлений, экспорт в CSV для администраторов.
Геолокация: Геокодирование через OpenStreetMap, поддержка федеральных земель, городов, почтовых индексов и улиц.
Локализация: Поддержка переводов на немецкий, английский и русский языки.
Масштабируемость: MySQL 8.0, Redis для кэширования, Celery + RabbitMQ для асинхронных задач, AWS S3 для хранения медиафайлов.
Безопасность: Хеширование паролей с Argon2, ограничение скорости запросов, защита от брутфорс-атак с Axes, мониторинг ошибок через Sentry.
Тестирование: Покрытие тестами ≥90% (юнит-тесты и интеграционные тесты).
DevOps: Контейнеризация с Docker, CI/CD через GitHub Actions, нагрузочное тестирование с Locust, хуки pre-commit для линтинга.

Архитектура

Монолитная структура: Модульная организация (users/, listings/, bookings/, и т.д.) для удобства поддержки.
База данных: MySQL 8.0 с индексами для оптимизации запросов (например, для status в Booking, is_approved в Review).
Кэширование: Redis для хранения объявлений и метрик популярности.
Очередь задач: Celery с RabbitMQ для асинхронной отправки email и геокодирования.
API: RESTful с DRF, документация через Swagger, поддержка мета-ответов.
Хранилище: AWS S3 для фотографий объявлений.

Установка и настройка

Склонируйте репозиторий:git clone <repository-url>
cd miet-system


Скопируйте .env.example в .env и настройте переменные:cp .env.example .env

Пример .env:SECRET_KEY=your-secret-key
DEBUG=True
DB_NAME=miet_system
DB_USER=user
DB_PASSWORD=password
DB_HOST=db
AWS_STORAGE_BUCKET_NAME=your-s3-bucket
SENTRY_DSN=your-sentry-dsn


Запустите Docker:docker-compose up --build -d


Примените миграции:docker-compose exec web python manage.py migrate


Скомпилируйте переводы:docker-compose exec web python manage.py compilemessages


Запустите тесты:docker-compose exec web pytest --cov=. --cov-report=html


Доступ к API: http://localhost:8000/api/, Swagger: http://localhost:8000/api/swagger/.

Будущие улучшения

Поддержка GraphQL для гибких запросов.
Интеграция Elasticsearch для полнотекстового поиска.
Переход на мультитенантную архитектуру для масштабирования.
Интеграция платежной системы (например, Stripe).

Заключение
MietSystem — это надежный, готовый к продакшену бэкенд для платформы аренды жилья в Германии, обеспечивающий баланс между функциональностью, безопасностью и масштабируемостью. Проект разработан с учетом простоты развертывания и поддержки, уделяя особое внимание удобству пользователей и продуктивности разработчиков.
Последнее обновление: 28 июня 2025
